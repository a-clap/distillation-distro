From 7199bfb4fd1c6c8d9eacff361c34037e7b223169 Mon Sep 17 00:00:00 2001
From: OpenEmbedded <oe.patch@oe>
Date: Sun, 11 Sep 2022 17:43:55 +0200
Subject: [PATCH] Add onewire support on P9_12 pin

---
 arch/arm/boot/dts/am335x-boneblack.dts | 17 +++++++++++++++++
 1 file changed, 17 insertions(+)

diff --git a/arch/arm/boot/dts/am335x-boneblack.dts b/arch/arm/boot/dts/am335x-boneblack.dts
index 9312197316f00..f7ba31fdaa6b0 100644
--- a/arch/arm/boot/dts/am335x-boneblack.dts
+++ b/arch/arm/boot/dts/am335x-boneblack.dts
@@ -168,3 +168,20 @@ &gpio3 {
 		"NC",
 		"NC";
 };
+
+
+&ocp{
+    onewire@0 {
+        status          = "okay";
+        compatible      = "w1-gpio";
+        pinctrl-names   = "default";
+        pinctrl-0       = <&ds1820_pins>;
+        gpios           = <&gpio1 28 0>;
+    };
+};
+
+&am33xx_pinmux {
+    ds1820_pins: pinmux_ds1820_pins {
+		pinctrl-single,pins =  <0x78 0x00 0x37>;
+    };
+};
\ No newline at end of file
