From d602c2d3794d7c041674f2818c998975c4bcfd9d Mon Sep 17 00:00:00 2001
From: yocto <yocto@devtool.com>
Date: Sun, 12 Nov 2023 16:51:55 +0100
Subject: [PATCH] Fix: building for NEON
Upstream-Status: Denied
---
 Source/WebCore/Sources.txt                                      | 1 +
 .../WebCore/platform/graphics/cpu/arm/filters/FELightingNEON.h  | 2 +-
 2 files changed, 2 insertions(+), 1 deletion(-)

diff --git a/Source/WebCore/Sources.txt b/Source/WebCore/Sources.txt
index b783f88d..0ba5fb74 100644
--- a/Source/WebCore/Sources.txt
+++ b/Source/WebCore/Sources.txt
@@ -2234,6 +2234,7 @@ platform/graphics/controls/MeterPart.cpp
 platform/graphics/controls/ProgressBarPart.cpp
 platform/graphics/controls/SliderTrackPart.cpp
 platform/graphics/cpu/arm/filters/FEBlendNeonApplier.cpp
+platform/graphics/cpu/arm/filters/FELightingNEON.cpp
 platform/graphics/displaylists/DisplayList.cpp
 platform/graphics/displaylists/DisplayListDrawingContext.cpp
 platform/graphics/displaylists/DisplayListItems.cpp
diff --git a/Source/WebCore/platform/graphics/cpu/arm/filters/FELightingNEON.h b/Source/WebCore/platform/graphics/cpu/arm/filters/FELightingNEON.h
index e4629cda..c6d17f57 100644
--- a/Source/WebCore/platform/graphics/cpu/arm/filters/FELightingNEON.h
+++ b/Source/WebCore/platform/graphics/cpu/arm/filters/FELightingNEON.h
@@ -98,7 +98,7 @@ inline void FELightingSoftwareApplier::applyPlatformNeon(const FELightingSoftwar
 {
     WebCore::FELightingFloatArgumentsForNeon alignas(16) floatArguments;
     WebCore::FELightingPaintingDataForNeon neonData = {
-        data.pixels->data(),
+        data.pixels->bytes(),
         1,
         data.width - 2,
         data.height - 2,
